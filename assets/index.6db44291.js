const y=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}};y();const S=(o="")=>({name:o,type:"local"}),g=(o="",t="")=>{let r=(t==="session"?sessionStorage:localStorage).getItem(o);return r?JSON.parse(r):{}},d=(o="",t=null,n="")=>{(n==="session"?sessionStorage:localStorage).setItem(o,JSON.stringify(t))},p=(o="",t="",n="")=>(g(t,n)||{})[o],f=(o={},t="",n="",r="")=>{const e=g(n,r)||{};e[t]=o,d(n,e,r)},h=(o,t="",n={})=>{const{name:r,type:e}=o||{};r||console.error("useStorage: createFunc name not defined");const s=g(r,e)||{};return s[t]||(s[t]=n,d(r,s,e)),{set:(a={})=>{const c=p(t,r,e);for(const[i,m]of Object.entries(a))c[i]||(c[i]=""),c[i]=m;f(c,t,r,e)},get:(a="")=>{const c=p(t,r,e);return a?c[a]:c},reset:()=>{f(n,t,r,e)},clear:()=>{f({},t,r,e)}}},b=S,L=h,F=b("main-site-cookie"),u=L(F,"cart",{}),O=()=>{let o=u.get("number")?u.get("number"):1;o=o+1,u.set({number:o})};const T=document.querySelector("#app"),C=()=>u.get("number");O();T.innerHTML=`
  <h1>Local store - demo</h1>
  Refresh to see this number change
  ${C()}
`;
